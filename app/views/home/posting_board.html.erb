<div class = "jumbotron" id = "index_main" ng-controller="PostsCtrl">
    <h1><span id = "logo">N<font size = "12">L</font></span>&nbsp;<b>Next</b>List</h1>
    <div id = "small_box"></div>
</div>

<div class = "container" ng-controller="PostsCtrl">
    <%= button_to "Submit a Posting!", new_post_path, :method => :get, :class => "btn btn-primary" %>
    
    <div class = "pull-right">
        <b>Search:</b> <input ng-model="searchText">
    </div>
    
    </br>
    </br>
    <table class = "table table-hover table-striped">
      <thead>
        <tr>
            <th><a href="" ng-click="predicate = 'title'; reverse=false">Title</a>
            (<a href="" ng-click="predicate = '-title'; reverse=false">^</a>)</th>
            <th><a href="" ng-click="predicate = 'userName'; reverse=false">Creator</a>
            (<a href="" ng-click="predicate = '-userName'; reverse=false">^</a>)</th>
            <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="post in posts | filter:searchText | orderBy:predicate:reverse">
            <td>{{post.title}}</td>
            <td><a href ="/profile?id={{post.userId}}">{{post.userName}}</a></td>
            <td>
                <button class="btn btn-primary" data-toggle="modal" data-target="#modalPost" ng-click ="viewPost(post)">
                    View
                </button>
            </td>
        </tr>
      </tbody>
    </table>
    
    <!-- Button trigger modal -->


<!-- Modal -->
<div class="modal" id="modalPost" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">{{post.title}}</h4>
      </div>
      <div class="modal-body">
        {{post.content}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

</div>